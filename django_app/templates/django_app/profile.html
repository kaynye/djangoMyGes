{% extends 'base.html' %}
{% load static %}

{% block css %}
{% endblock %}  
{% block content%}
    <br>
    <div class="container">
        <h1>
            <i class="fa fa-user"></i>
            Votre Profil
        </h1>
        <br>
        <fieldset>
          <form enctype='multipart/form-data' method="POST" action="{% url 'django_app:change_profile' %}">
            <legend>Image de profil</legend>
            <img class="profile-picture" height="100" width="100" src="{{ request.user.u_profile.pu_picture.url }}" alt=""><br><br>
            {% csrf_token %}  
            {{ form }}
            <button type="submit" class="btn btn-success btn-sm">Mettre à jour</button>
          </form>
        </fieldset>
        <br>
        <fieldset>
            <legend>Informations du compte</legend>
            <div class="form-group row">
              <label for="staticEmail" class="col-sm-2 col-form-label">Prénom / Nom</label>
              <div class="col-sm-10">
                <input style="outline: none;" type="text" readonly="" class="form-control-plaintext" value="{{ request.user.first_name }} {{ request.user.last_name }}">
              </div>
            </div>
            <div class="form-group row">
                <label for="staticEmail" class="col-sm-2 col-form-label">Email</label>
                <div class="col-sm-10">
                  <input style="outline: none;" type="text" readonly="" class="form-control-plaintext" value="{{ request.user.email }}">
                </div>
              </div>
              <div class="form-group row">
                <label for="staticEmail" class="col-sm-2 col-form-label">Classe</label>
                <div class="col-sm-10">
                  <input style="outline: none;" type="text" readonly="" class="form-control-plaintext" value="{{ class.c_name }}">
                </div>
              </div>
        </fieldset>

        <br><br>
        <form method="POST" action="{% url 'django_app:change_password' %}" > 
            <fieldset>
                <legend>
                    <i class="fa fa-lock"></i>
                    Changez votre mot de passe
                </legend>
                {% csrf_token %}
                <div class="form-group">
                    <label for="actualPassword">Mot de passe actuel</label>
                    <input type="password" class="form-control" id="actualPassword" name="actual_password" placeholder="Entrez votre mot de passe actuel">
                </div>
                <div class="form-group">
                    <label for="newPassword">Nouveau mot de passe</label>
                    <input type="password" class="form-control" id="newPassword" name="new_password" placeholder="Renseignez un nouveau mot de passe">
                </div>
                <div class="form-group">
                    <label for="reNewPassword">Retapez le mot de passe </label>
                    <input type="password" class="form-control" id="reNewPassword" name="re_password" placeholder="Renseignez de nouveau le mot de passe">
                </div>
                <button type="submit" class="btn btn-success float-right">Mettre à jour</button>
              </fieldset>
        </form>
    </div>
{% endblock %}